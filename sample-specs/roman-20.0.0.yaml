# Image header information
image_spec_header:
  image_name: roman-20.0.0
  deployment_name: roman
  kernel_name: roman-cal
  display_name: Roman Research Nexus
  description: |
    This spec is for the production version of roman-20.
  valid_on: 2025-12-12
  expires_on: 2026-06-01
  python_version: 3.12

repositories:
  roman_notebooks:
    url: https://github.com/spacetelescope/roman_notebooks
    branch: main

    # hash: b66a186b0b6587b870ccd1ec18e2a2eb27cf9c1c
selected_notebooks:
  roman_all:
    repo: roman_notebooks
    root_directory: notebooks/
    include_subdirs:
      - '.*'
    exclude_subdirs:
      - data_visualization/data_visualization.ipynb
  roman_data_viz:
    repo: roman_notebooks
    root_directory: notebooks/
    include_subdirs:
      - data_visualization/data_visualization.ipynb
    tests:
      papermill: false

extra_mamba_packages:
  - pip
extra_pip_packages:
  - boto3
  - lsstdesc.coord

system:
  spec_version: 2.0
  archive_format: .tar
  spi:
    repo: https://github.com/jaytmiller/science-platform-images.git
    ref: roman-20.0.0
out:
  data:
    spec_inputs:
      references/roman_notebooks/refdata_dependencies.yaml:
        install_files:
          pandeia:
            version: '2025.9'
            environment_variable: pandeia_refdata
            install_path: ${HOME}/refdata/
            data_path: pandeia_data-2025.9-roman
            data_url:
              - https://stsci.box.com/shared/static/0qjvuqwkurhx1xd13i63j760cosep9wh.gz
          stpsf:
            version: 2.1.0
            environment_variable: STPSF_PATH
            install_path: ${HOME}/refdata/
            data_path: stpsf-data
            data_url:
              - https://stsci.box.com/shared/static/kqfolg2bfzqc4mjkgmujo06d3iaymahv.gz
          stips:
            version: 2.3.0
            environment_variable: stips_data
            install_path: ${HOME}/refdata/
            data_path: stips_data
            data_url:
              - https://stsci.box.com/shared/static/761vz7zav7pux03fg0hhqq7z2uw8nmqw.tgz
          synphot:
            version: 1.6.0
            environment_variable: PYSYN_CDBS
            install_path: ${HOME}/refdata/
            data_path: grp/redcat/trds/
            data_url:
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_everything_multi_v18_sed.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_star-galaxy-models_multi_v3_synphot2.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_castelli-kurucz-2004-atlas_multi_v2_synphot3.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_kurucz-1993-atlas_multi_v2_synphot4.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_pheonix-models_multi_v3_synphot5.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_calibration-spectra_multi_v13_synphot6.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_jwst_multi_etc-models_multi_v1_synphot7.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_modewave_multi_v1_synphot8.tar
              - https://archive.stsci.edu/hlsps/reference-atlases/hlsp_reference-atlases_hst_multi_other-spectra_multi_v2_sed.tar
        other_variables:
          CRDS_SERVER_URL: https://roman-crds.stsci.edu
          CRDS_CONTEXT: roman_0041.pmap
          CRDS_PATH: ${HOME}/crds_cache
    spec_exports:
      pandeia_refdata: ${HOME}/refdata/pandeia_data-2025.9-roman
      STPSF_PATH: ${HOME}/refdata/stpsf-data
      stips_data: ${HOME}/refdata/stips_data
      PYSYN_CDBS: ${HOME}/refdata/grp/redcat/trds/
      CRDS_SERVER_URL: https://roman-crds.stsci.edu
      CRDS_CONTEXT: roman_0041.pmap
      CRDS_PATH: ${HOME}/crds_cache
    pantry_exports:
      pandeia_refdata: 
        ${NBW_PANTRY}/shelves/roman-20.0.0-roman-cal/data/pandeia_data-2025.9-roman
      STPSF_PATH: ${NBW_PANTRY}/shelves/roman-20.0.0-roman-cal/data/stpsf-data
      stips_data: ${NBW_PANTRY}/shelves/roman-20.0.0-roman-cal/data/stips_data
      PYSYN_CDBS: 
        ${NBW_PANTRY}/shelves/roman-20.0.0-roman-cal/data/grp/redcat/trds
      CRDS_SERVER_URL: https://roman-crds.stsci.edu
      CRDS_CONTEXT: roman_0041.pmap
      CRDS_PATH: ${HOME}/crds_cache
    metadata:
      roman_notebooks/pandeia/0qjvuqwkurhx1xd13i63j760cosep9wh.gz:
        size: '578788837'
        sha256: 736766b93e12d5adff9499b3a69a676e78d12d0ddff3a5193430cbab688bb978
      roman_notebooks/stpsf/kqfolg2bfzqc4mjkgmujo06d3iaymahv.gz:
        size: '92295282'
        sha256: d30eb72b571b0e9f09a091909bf16f679f23c30d327ce6fc09ace227790be6bf
      roman_notebooks/stips/761vz7zav7pux03fg0hhqq7z2uw8nmqw.tgz:
        size: '153097868'
        sha256: 15a430e67c7526abb4bd0f56379631ef7cb10a93f72b5d5dbd7919b441422d6a
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_everything_multi_v18_sed.tar:
        size: '1285222400'
        sha256: 3f01b858d88960f864cad56a03d2425955ae3951a979378da612af960c5f6b59
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_star-galaxy-models_multi_v3_synphot2.tar:
        size: '90347520'
        sha256: 66faaaeeb04e855a09c6cb8bc9b748c8fbedf23b782208dba84e10c4f0fd450b
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_castelli-kurucz-2004-atlas_multi_v2_synphot3.tar:
        size: '42772480'
        sha256: 8f7a220bc9480900c372015847057b06a2c218ae8b2dbf8020e6a1dd2990b42c
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_kurucz-1993-atlas_multi_v2_synphot4.tar:
        size: '81684480'
        sha256: 95ca73356f38a703064c346e286f571b53f78964d5511d1b538ff086f5ce897e
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_pheonix-models_multi_v3_synphot5.tar:
        size: '1868328960'
        sha256: 1ffb5e136dc4f846cd95b83843eb89f7a5171f58732705b25f07a99c4d8cf50d
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_calibration-spectra_multi_v13_synphot6.tar:
        size: '8695121920'
        sha256: 69b3ba91db2a3290bacbe48ef7b7626905567d89e7e03d11b3cefeadf5f26fd7
      roman_notebooks/synphot/hlsp_reference-atlases_jwst_multi_etc-models_multi_v1_synphot7.tar:
        size: '8909717'
        sha256: 01b2eae81852d56971796a62c82ff7f76256e1fdaabccf2f7f09151b1283640a
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_modewave_multi_v1_synphot8.tar:
        size: '34160640'
        sha256: 3338b1fb400d752c02c06132e0ce804ef8a9751f6ff535b41d022f60b0364d81
      roman_notebooks/synphot/hlsp_reference-atlases_hst_multi_other-spectra_multi_v2_sed.tar:
        size: '121835520'
        sha256: b8901e54c03a185d19cd08e9590a7b959d82901d02abc7a9a3f468c8691db70b
